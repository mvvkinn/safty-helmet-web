<!DOCTYPE HTML>
<html>

<head>
	<meta charset="UTF-8">
	<link href="style/shcss.css" rel="stylesheet">
    <title>map</title>
</head>

<body>
    <div id="gps" style="width:100%;height:400px;"></div>
    <script type="text/javascript" src="//dapi.kakao.com/v2/maps/sdk.js?appkey=cd279f7aad64d95a68830694bdd2c95f"></script>
    <script>
		var container = document.getElementById('gps');
		var options = {
			center: new kakao.maps.LatLng(33.450701, 126.570667),
			level: 3
		};

		var map = new kakao.maps.Map(container, options);
		
		if (navigator.geolocation) {
			navigator.geolocation.getCurrentPosition(function(position) {
		        var lat = position.coords.latitude, // 위도
		            lon = position.coords.longitude; // 경도
		            
		        var locPosition = new kakao.maps.LatLng(lat, lon),
		            message = '<div style="padding:5px;">사용자 위치</div>';
		        
		        displayMarker(locPosition, message);
		            
		      });
		    
		} else {
		    var locPosition = new kakao.maps.LatLng(33.450701, 126.570667),
		        message = 'can\'t use Geolocation'
		        
		    displayMarker(locPosition, message);
		}

		function displayMarker(locPosition, message) {

		    var marker = new kakao.maps.Marker({  
		        map: map, 
		        position: locPosition
		    }); 
		    
		    var iwContent = message,
		        iwRemoveable = true;

		    var infowindow = new kakao.maps.InfoWindow({
		        content : iwContent,
		        removable : iwRemoveable
		    });
		    
		    infowindow.open(map, marker);
		    
		    map.setCenter(locPosition);      
		}    
	</script>

</body>
</html>>